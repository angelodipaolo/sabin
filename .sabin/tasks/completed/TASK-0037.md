---
status: resolved
title: Refactor CLI to use resource-based command structure
---
## Requirements

- Refactor CLI from hyphenated commands to resource-based structure (Option A).
- Update vs code extension to use new CLI command structure

### Command Changes

**Current → New:**
- `sabin create-task` → `sabin task create`
- `sabin list-tasks` → `sabin task list`
- `sabin update-status <task> <status>` → `sabin task update <id> <status>`
- `sabin init` → unchanged (not task-specific)

### Implementation Details

1. **Update index.ts:**
   - Change from flat command structure to nested subcommands
   - Create `task` parent command with `create`, `list`, `update` subcommands
   - Preserve all existing options and functionality

2. **Command Specifications:**
   - `sabin task create` - create new task
     - `-t, --title <title>` - task title
     - `-c, --content <content>` - task content
     - `-n, --number <number>` - custom task ID
   - `sabin task list` - list tasks
     - `-s, --status <status>` - filter by status
   - `sabin task update <id> <status>` - update task status
     - Positional args: task ID and new status

3. **Add interactive prompts:**
   - When `sabin task create` is run without required options, prompt for title/content
   - Use inquirer or prompts library

4. **Testing:**
   - Verify all commands work with new structure
   - Test help output is clear
   - Ensure backward compatibility not required (breaking change OK for v0.1.0)

5. **Documentation:**
   - Update CLAUDE.md with new command structure
   - Update README if exists
   - Update any examples in comments

### Rationale

Resource-based structure (`sabin <resource> <action>`) is more conventional and scalable. Follows patterns from git, kubectl, gh, etc. Makes it easier to add future resources like plans or research commands.
